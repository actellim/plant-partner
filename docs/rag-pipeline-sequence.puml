@startuml
participant "User Application" as App
participant "On-Device App" as DeviceApp
database "Plant Database" as DB
participant "RLLM Endpoint" as RLLM

== Input & Retrieval Step ==
App -> DeviceApp: User Query & Plant Species
DeviceApp -> DB: SQL Lookup (Species & Sensor Data)
DB --> DeviceApp: Return Gold-Standard Condition & Sensor Data

== Generation Step ==
DeviceApp -> DeviceApp: Combine Query, Sensor Data & Gold-Standard Data
DeviceApp -> RLLM: Send Combined Payload
RLLM -> RLLM: Cross-reference Sensor Data with Gold-Standard Data (Identify Deltas)
RLLM -> RLLM: Formulate care optimization/reinforcement response
RLLM --> DeviceApp: Return Diagnostic Response
DeviceApp --> App: Display Response

== Conversational Step (Future Turns) ==
App -> DeviceApp: Follow-up Query
DeviceApp -> RLLM: Forward Follow-up Query
RLLM -> DeviceApp: Tool Request: Lookup arbitrary information
DeviceApp -> DB: Execute Tool Lookup (Sensor Info)
DB --> DeviceApp: Return requested data
DeviceApp --> RLLM: Provide requested tool data
RLLM --> DeviceApp: Return updated response
DeviceApp --> App: Display updated response
@enduml
